<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Create Account - ToughToes</title>

    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />

    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css"
    />

    <link rel="stylesheet" href="/frontend/public/css/userSignup.css" />
  </head>
  <body>
    <nav
      class="navbar navbar-expand-lg navbar-light bg-white border-bottom px-4"
    >
      <a class="navbar-brand" href="/">ToughToes</a>
      <div class="collapse 1navbar-collapse">
        <ul class="navbar-nav ms-3">
          <li class="nav-item"><a class="nav-link" href="#">Men</a></li>
          <li class="nav-item"><a class="nav-link" href="#">Women</a></li>
          <li class="nav-item"><a class="nav-link" href="#">Kids</a></li>
          <li class="nav-item"><a class="nav-link" href="#">Sale</a></li>
        </ul>
      </div>
      <form class="d-flex ms-auto me-3">
      </form>
      <div class="d-flex align-items-center gap-3">
        <i class="far fa-heart"></i>
        <i class="fas fa-shopping-cart"></i>
        <i class="fas fa-user"></i>
      </div>
    </nav>

    <div
      class="d-flex justify-content-center align-items-center"
      style="min-height: 100vh"
    >
      <section
        class="form-container bg-white p-4 shadow rounded"
        style="width: 100%; max-width: 500px"
      >
        <h5 class="mb-4 text-center">Create Account</h5>

        <% if (error) { %>
        <div class="alert alert-danger text-center"><%= error %></div>
        <% } %>

        <form method="POST" action="/user/signup" id="signupForm">
          <div class="row mb-3">
            <div class="col">
              <input
                type="text"
                name="firstName"
                class="form-control"
                placeholder="First name"
                value="<%= oldInput ? oldInput.firstName : '' %>"
                required
              />
            </div>
            <div class="col">
              <input
                type="text"
                name="lastName"
                class="form-control"
                placeholder="Last name"
                value="<%= oldInput ? oldInput.lastName : '' %>"
                required
              />
            </div>
          </div>

          <div class="mb-3">
            <input
              id="email"
              type="email"
              name="email"
              class="form-control"
              placeholder="Enter your email"
              value="<%= oldInput ? oldInput.email : '' %>"
              required
            />
          </div>

          <div class="mb-3">
            <input
              type="tel"
              name="phoneNumber"
              class="form-control"
              placeholder="Enter your phone"
              value="<%= oldInput ? oldInput.phoneNumber : '' %>"
              required
            />
          </div>

          <div class="mb-3">
            <input
              id="password"
              type="password"
              name="password"
              class="form-control"
              placeholder="Create password"
              required
            />
          </div>

          <div class="mb-3">
            <input
              id="confirmPassword"
              type="password"
              name="confirmPassword"
              class="form-control"
              placeholder="Confirm password"
              required
            />
          </div>

          <div class="password-requirements p-2 border rounded bg-light mb-3">
          <p class="mb-1">Password must contain:</p>
          <ul class="mb-0 small" style="list-style-type: disc; padding-left: 1.5em;">
            <li>At least 8 characters</li>
            <li>One uppercase letter</li>
            <li>One lowercase letter</li>
            <li>One number</li>
            <li>One special character</li>
          </ul>
        </div>

          <div class="form-check mb-3 text-start">
            <input
              class="form-check-input"
              type="checkbox"
              name="termsAgreed"
              required
            />
            <label class="form-check-label">
              I agree to the <a href="#">Terms of Service</a> and
              <a href="#">Privacy Policy</a>
            </label>
          </div>

          <div class="d-grid">
            <button type="submit" class="btn btn-dark">Create Account</button>
          </div>
        </form>

        <br />
        <div class="d-grid mb-3">
          <a href="/user/auth/google" class="btn btn-outline-danger">
            <i class="fab fa-google me-2"></i> Sign up with Google
          </a>
        </div>

        <p class="mt-3 text-center">
          Sign in <a href="./login">Already have an account?</a>
        </p>
      </section>
    </div>

    <footer class="bg-dark text-white py-4 mt-5">
      <div class="container">
        <div class="row">
          <div class="col-md-3">
            <h5>ToughToes</h5>
            <p>Premium shoes for every step of your journey.</p>
          </div>
          <div class="col-md-3">
            <h6>Quick Links</h6>
            <ul class="list-unstyled">
              <li><a href="#" class="text-white-50">About Us</a></li>
              <li><a href="#" class="text-white-50">Contact</a></li>
              <li><a href="#" class="text-white-50">Size Guide</a></li>
              <li><a href="#" class="text-white-50">Returns</a></li>
            </ul>
          </div>
          <div class="col-md-3">
            <h6>Categories</h6>
            <ul class="list-unstyled">
              <li><a href="#" class="text-white-50">Men's Shoes</a></li>
              <li><a href="#" class="text-white-50">Women's Shoes</a></li>
              <li><a href="#" class="text-white-50">Kids' Shoes</a></li>
              <li><a href="#" class="text-white-50">Sale</a></li>
            </ul>
          </div>
          <div class="col-md-3">
            <h6>Follow Us</h6>
            <a href="#" class="text-white me-2"
              ><i class="fab fa-facebook"></i
            ></a>
            <a href="#" class="text-white me-2"
              ><i class="fab fa-instagram"></i
            ></a>
            <a href="#" class="text-white"><i class="fab fa-twitter"></i></a>
          </div>
        </div>
        <hr class="border-white-50" />
        <p class="text-center text-white-50 m-0">
          Â© 2025 ToughToes. All rights reserved.
        </p>
      </div>
    </footer>
  </body>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

  <script src="https://cdn.jsdelivr.net/npm/sweetalert/dist/sweetalert.min.js"></script>

  <script>
    document.addEventListener("DOMContentLoaded", function () {
      var form = document.getElementById("signupForm");

      console.log("Ading event listener.....");
      form.addEventListener(
        "submit",
        function (e) {
          e.preventDefault();

          var email = document.getElementById("email").value;
          var password = document.getElementById("password").value;
          var confirmPassword =
            document.getElementById("confirmPassword").value;
          if (email == "" || password == "" || confirmPassword == "") {
            swal("All fields are required");
            e.preventDefault();
            return false;
          } else if (password !== confirmPassword) {
            swal("Passwords do not match");
            e.preventDefault();
            return false;
          }
          if (password.length < 8) {
            swal("Password must be at least 8 characters.");
            e.preventDefault();
            return false;
          } else if (!/[A-Z]/.test(password)) {
            swal("Password must contain at least one uppercase letter.");
            e.preventDefault();
            return false;
          } else if (!/[a-z]/.test(password)) {
            swal("Password must contain at least one lowercase letter.");
            e.preventDefault();
            return false;
          } else if (!/[0-9]/.test(password)) {
            swal("Password must contain at least one number.");
            e.preventDefault();
            return false;
          } else if (!/[^A-Za-z0-9]/.test(password)) {
            swal("Password must contain at least one special character.");
            e.preventDefault();
            return false;
          }

          form.submit();
        },
        false
      );
    });
  </script>
</html>
